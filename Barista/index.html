<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
    <title>Coffee Orders</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/main.css" rel="stylesheet" media="all">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,700,400italic,300,700italic' rel='stylesheet' type='text/css'>
    <script src="https://www.gstatic.com/firebasejs/3.0.0/firebase.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
</head>

<body>
<div>
    <h1>Coffee Orders</h1><hr>
    <div id="yield">
    </div>

    <script id="home-template" type="text/x-handlebars-template">
        <div>
            {{#each coffees}}
            <div>
            <p>Order No.: {{@key}}</p>
            <img src="images/{{type}}.png"> 
            <img src="images/{{size}}.png"> 
            <img src="images/{{extras}}.png"> 

            {{#if soy}}
            <img src="images/{{soy}}.png"> 
            {{else}}    
            {{/if}}

            {{#if sugar}}
            <img src="images/{{sugar}}.png"> 
            {{else}}    
            {{/if}}

            {{#if shots}}
            <img src="images/{{shots}}.png"> 
            {{else}}    
            {{/if}}

            <img src="images/{{payment}}.png"> 
            <p><img src="images/{{collection}}.png"> </p>
            <p><em>Status: {{status}}</em></p>

            {{#if_eq status 'Waiting in Line'}}
            <button onClick="makingC(this)" class="coffeeMake" data-key="{{@key}}">Making</button>
            {{else}}
            {{/if_eq}}

            {{#if_eq status 'Making'}}
            <button onClick="readyPickupC(this)" class="coffeeDone" data-key="{{@key}}">Ready for Pickup</button><p>
    
            <button onClick="readyDeliveryC(this)" class="coffeeDone" data-key="{{@key}}">Ready to be Delivered</button><p>
            {{else}}
            {{/if_eq}}

            {{#if_eq status 'Ready for Pickup'}}
            <button onClick="completeC(this)" class="coffeeComplete" data-key="{{@key}}">Completed</button>
            {{else}}
            {{/if_eq}}

            {{#if_eq status 'On its way!'}}
            <button onClick="completeC(this)" class="coffeeComplete" data-key="{{@key}}">Completed</button>
            {{else}}
            {{/if_eq}}
            <hr>
            </div>
        {{/each}}
        </div>

        <div>
            {{#each teas}}
            <div>
            <p>Order No.: {{@key}}</p>
            <img src="images/{{tea}}.png"> 
            <p><img src="images/{{collection}}.png"> </p>
            <p><em>Status: {{status}}</em></p>

            {{#if_eq status 'Waiting in Line'}}
            <button onClick="makingT(this)" class="teaMake" data-key="{{@key}}">Preparing</button>
            {{else}}
            {{/if_eq}}

            {{#if_eq status 'Preparing'}}
            <button onClick="readyPickupT(this)" class="teaDone" data-key="{{@key}}">Ready for Pickup</button><p>
    
            <button onClick="readyDeliveryT(this)" class="teaDone" data-key="{{@key}}">Ready to be Delivered</button><p>
            {{else}}
            {{/if_eq}}

            {{#if_eq status 'Ready for Pickup'}}
            <button onClick="completeT(this)" class="teaComplete" data-key="{{@key}}">Completed</button>
            {{else}}
            {{/if_eq}}

            {{#if_eq status 'On its way!'}}
            <button onClick="completeT(this)" class="teaComplete" data-key="{{@key}}">Completed</button>
            {{else}}
            {{/if_eq}}
            <hr>
            </div>
        {{/each}}
        </div>

        <div>
            {{#each others}}
            <div>
            <p>Order No.: {{@key}}</p>
            <img src="images/{{other}}.png"> 
            
            <p><img src="images/{{collection}}.png"> </p>
            <p><em>Status: {{status}}</em></p>

            {{#if_eq status 'Waiting in Line'}}
            <button onClick="makingO(this)" class="otherMake" data-key="{{@key}}">Preparing</button>
            {{else}}
            {{/if_eq}}

            {{#if_eq status 'Preparing'}}
            <button onClick="readyPickupO(this)" class="otherDone" data-key="{{@key}}">Ready for Pickup</button><p>
    
            <button onClick="readyDeliveryO(this)" class="otherDone" data-key="{{@key}}">Ready to be Delivered</button><p>
            {{else}}
            {{/if_eq}}

            {{#if_eq status 'Ready for Pickup'}}
            <button onClick="completeO(this)" class="otherComplete" data-key="{{@key}}">Completed</button>
            {{else}}
            {{/if_eq}}

            {{#if_eq status 'On its way!'}}
            <button onClick="completeO(this)" class="otherComplete" data-key="{{@key}}">Completed</button>
            {{else}}
            {{/if_eq}}
            <hr>
            </div>
        {{/each}}
        </div>
    </script>
</div>

<script src="js/appB.js"></script>
</body>
</html>
